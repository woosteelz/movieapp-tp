(function(t){function e(e){for(var n,r,s=e[0],c=e[1],l=e[2],u=0,v=[];u<s.length;u++)r=s[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&v.push(a[r][0]),a[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(v.length)v.shift()();return o.push.apply(o,l||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],n=!0,s=1;s<i.length;s++){var c=i[s];0!==a[c]&&(n=!1)}n&&(o.splice(e--,1),t=r(r.s=i[0]))}return t}var n={},a={app:0},o=[];function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var d=c;o.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"1fc6":function(t,e,i){},2005:function(t,e,i){},2415:function(t,e,i){},4467:function(t,e,i){"use strict";i("1fc6")},5682:function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"inspire"}},[n("v-navigation-drawer",{attrs:{app:"",color:"deep-purple darken-3"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-list",[n("v-list-item",{attrs:{link:""}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-chat-outline")])],1),n("v-list-item-content",[n("v-list-item-title",[n("router-link",{staticClass:"white--text text-decoration-none",attrs:{to:"/community"}},[t._v("Community")])],1)],1)],1),n("v-list-item",{attrs:{link:""}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-movie-outline")])],1),n("v-list-item-content",[n("router-link",{staticClass:"white--text text-decoration-none",attrs:{to:"/movies"}},[t._v("Movies")])],1)],1),n("v-list-item",{attrs:{link:""}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-movie-search-outline")])],1),n("v-list-item-content",[n("router-link",{staticClass:"white--text text-decoration-none",attrs:{to:"/movies/recommend"}},[t._v("Recommend")])],1)],1),t.isLogin?n("v-list-item",{attrs:{link:""},on:{click:t.logout}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-logout-variant")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Logout")])],1)],1):n("v-list-item",{attrs:{link:""}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-logout-variant")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Login")])],1)],1)],1)],1),n("v-app-bar",{attrs:{app:"","hide-on-scroll":"",color:"deep-purple darken-3"}},[n("v-app-bar-nav-icon",{attrs:{"hide-on-scroll":""},on:{click:function(e){t.drawer=!t.drawer}}}),n("v-toolbar-title",[n("img",{attrs:{src:i("a45c"),alt:"",width:"200px"}})])],1),n("v-main",{staticStyle:{display:"center","align-items":"center"}},[n("router-view")],1)],1)},o=[],r={name:"App",component:{},data:function(){return{movies:null,drawer:!0,isLogin:!1}},methods:{logout:function(){localStorage.removeItem("jwt"),this.$router.push({name:"Login"})}},created:function(){var t=localStorage.getItem("jwt");t&&(this.isLogin=!0)},mounted:function(){var t=localStorage.getItem("jwt");t&&(this.isLogin=!0)},updated:function(){var t=localStorage.getItem("jwt");t&&(this.isLogin=!0)}},s=r,c=(i("5c0b"),i("2877")),l=i("6544"),d=i.n(l),u=i("7496"),v=i("40dc"),m=i("5bc1"),h=i("132d"),f=i("8860"),p=i("da13"),g=i("5d23"),k=i("34c3"),_=i("f6c4"),x=i("f774"),w=i("2a7f"),b=Object(c["a"])(s,a,o,!1,null,null,null),C=b.exports;d()(b,{VApp:u["a"],VAppBar:v["a"],VAppBarNavIcon:m["a"],VIcon:h["a"],VList:f["a"],VListItem:p["a"],VListItemContent:g["a"],VListItemIcon:k["a"],VListItemTitle:g["b"],VMain:_["a"],VNavigationDrawer:x["a"],VToolbarTitle:w["a"]});var y=i("2f62");n["a"].use(y["a"]);var V=new y["a"].Store({state:{},mutations:{},actions:{},modules:{}}),T=i("8c4f"),D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{staticStyle:{"align-items":"center"},attrs:{fluid:""}},[i("h1",{staticClass:"text-center"},[t._v("Choose one")]),i("div",{attrs:{id:"main"}},[i("div",{staticClass:"ma-3"},[i("v-btn",{attrs:{width:"100%","x-large":"",color:"deep-purple darken-3"},on:{click:function(e){t.loadMovies(),t.goToRecommend()}}},[t._v("영화추천")])],1),t.isLogin?t._e():i("div",{staticClass:"ma-3"},[i("v-btn",{attrs:{"x-large":"",width:"100%",color:"deep-purple darken-3"}},[t._v("로그인")])],1)])])},j=[],A=i("bc3a"),S=i.n(A),R={name:"Home",components:{},data:function(){return{movies:null,isLogin:localStorage.getItem("jwt")}},methods:{setToken:function(){var t=localStorage.getItem("jwt"),e={Authorization:"JWT ".concat(t)};return e},loadMovies:function(){S()({method:"get",url:"http://3.143.230.89/movies/load_movies/",headers:this.setToken()}).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))},goToRecommend:function(){this.$router.push({name:"Recommend"})}}},O=R,$=(i("7886"),i("8336")),L=i("a523"),I=Object(c["a"])(O,D,j,!1,null,"c8930a1c",null),M=I.exports;d()(I,{VBtn:$["a"],VContainer:L["a"]});var E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{staticClass:"d-flex justify-center"},[i("v-card",{staticClass:"auth-card justify-center",attrs:{transparent:"","max-width":"344",rounded:"3",height:""}},[i("v-card-title",{staticClass:"d-flex align-center justify-center py-7"},[i("h2",{staticClass:"text-2xl font-weight-semibold"},[t._v("로그인")])]),i("v-card-text",[i("h3",[i("p",{staticClass:"text-2xl font-weight-semibold text--primary mb-2"},[t._v(" SSAFYATER에 오신걸 환영합니다! 👋🏻 ")])]),i("p",{staticClass:"mb-2"},[t._v("당신의 멋진 식사와 함께할 영화를 찾아보세요!")]),i("v-form",[i("v-text-field",{staticClass:"mb-3",attrs:{outlined:"",label:"Email",placeholder:"example@example.com","hide-details":"",rules:[t.rules.required,t.rules.email]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),i("v-text-field",{attrs:{outlined:"",type:t.showPassword?"text":"password",label:"Password",placeholder:"············","append-icon":t.showPassword?"mdi-eye":"mdi-eye-off","hide-details":"",rules:[t.rules.required,t.rules.min]},on:{"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),i("div",{staticClass:"d-flex align-center justify-space-between flex-wrap"},[i("v-checkbox",{staticClass:"me-3 mt-1",attrs:{label:"Remember Me","hide-details":""}}),i("a",{staticClass:"mt-1 white--text",attrs:{href:"javascript:void(0)"}},[t._v(" 비밀번호를 잊으셨나요? ")])],1),i("v-btn",{staticClass:"mt-6 white--text",attrs:{block:"",color:"deep-purple darken-3"},on:{click:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[t._v(" 로그인 ")])],1)],1),i("v-card-text",{staticClass:"d-flex align-center justify-center flex-wrap mt-2"},[i("span",{staticClass:"me-2"},[t._v(" SSAFYATER가 처음이세요? ")]),i("router-link",{staticClass:"white--text",attrs:{to:{name:"Signup"}}},[t._v(" 계정 만들기 ")])],1)],1)],1)},P=[],B=(i("ac1f"),i("00b4"),{name:"Login",data:function(){return{loginSuccess:!1,email:"",password:"",showPassword:!1,rules:{required:function(t){return!!t||"비밀번호를 입력하세요"},min:function(t){return t.length>=8||"비밀번호는 최소 8글자 입니다."},email:function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"유효한 이메일이 아닙니다."}}}},methods:{login:function(){var t=this;S()({method:"post",url:"http://3.143.230.89/accounts/api-token-auth/",data:{email:this.email,password:this.password}}).then((function(e){console.log(e),localStorage.setItem("jwt",e.data.token),t.$emit("login"),t.$router.push({name:"Home"})})).catch((function(t){console.log(t)}))}}}),F=B,q=i("b0af"),z=i("99d9"),J=i("ac7c"),W=i("4bd4"),N=i("8654"),U=Object(c["a"])(F,E,P,!1,null,null,null),Z=U.exports;d()(U,{VBtn:$["a"],VCard:q["a"],VCardText:z["b"],VCardTitle:z["c"],VCheckbox:J["a"],VContainer:L["a"],VForm:W["a"],VTextField:N["a"]});var H=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{staticClass:"d-flex justify-center"},[i("v-card",{staticClass:"auth-card",attrs:{"min-width":"344"}},[i("v-card-title",{staticClass:"d-flex align-center justify-center py-7"},[i("h2",{staticClass:"text-2xl font-weight-semibold"},[t._v("회원가입")])]),i("v-card-text",[i("h3",[i("p",{staticClass:"text-2xl font-weight-semibold text--primary mb-2"},[t._v(" SSAFYATER에 오신걸 환영합니다! 👋🏻 ")])]),i("p",{staticClass:"mb-2"},[t._v("당신의 멋진 식사와 함께할 영화를 찾아보세요!")])]),i("v-card-text",[i("v-form",[i("v-text-field",{staticClass:"mb-3",attrs:{outlined:"",label:"name",placeholder:"name","hide-details":""},model:{value:t.nickname,callback:function(e){t.nickname=e},expression:"nickname"}}),i("v-text-field",{staticClass:"mb-3",attrs:{outlined:"",label:"Email",placeholder:"example@example.com","hide-details":""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),i("v-text-field",{staticClass:"mb-3",attrs:{outlined:"",type:t.showPassword?"text":"password",label:"비밀번호",placeholder:"","append-icon":t.showPassword?"mdi-eye":"mdi-eye-off","hide-details":""},on:{"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),i("v-text-field",{staticClass:"mb-3",attrs:{outlined:"",type:t.showConfirm?"text":"password",label:"비밀번호 확인",placeholder:"","append-icon":t.showConfirm?"mdi-eye":"mdi-eye-off","hide-details":""},on:{"click:append":function(e){t.showConfirm=!t.showConfirm}},model:{value:t.passwordConfirm,callback:function(e){t.passwordConfirm=e},expression:"passwordConfirm"}}),i("v-btn",{staticClass:"mt-6 white--text",attrs:{block:"",color:"deep-purple darken-3"},on:{click:t.signup}},[t._v(" 가입하기 ")])],1)],1),i("v-card-text",{staticClass:"d-flex align-center justify-center flex-wrap mt-2"},[i("span",{staticClass:"me-2"},[t._v(" 이미 계정을 가지고 있나요? ")]),i("router-link",{staticClass:"white--text",attrs:{to:{name:"Login"}}},[t._v(" 로그인하기 ")])],1)],1)],1)},K=[],Y={name:"Signup",data:function(){var t=this;return{signupSuccess:!1,email:"",nickname:"",password:"",passwordConfirm:"",showPassword:!1,showConfirm:!1,rules:{emailRequired:function(t){return!!t||"이메일을 입력하세요"},passwordRequired:function(t){return!!t||"비밀번호를 입력하세요"},nameRequired:function(t){return!!t||"이름을 입력하세요"},min:function(t){return t.length>=8||"비밀번호는 최소 8글자 입니다."},passwordCorrect:function(e){return t.password!==e?"비밀번호가 일치하지 않습니다.":"비밀번호가 일치합니다."},email:function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"유효한 이메일이 아닙니다."}}}},methods:{signup:function(){var t=this;S()({method:"post",url:"http://3.143.230.89/accounts/signup/",data:{email:this.email,nickname:this.nickname,password:this.password,passwordConfirm:this.passwordConfirm}}).then((function(){t.$router.push({name:"Login"})})).catch((function(t){console.log(t)})),this.signupSuccess=!0}}},G=Y,Q=Object(c["a"])(G,H,K,!1,null,null,null),X=Q.exports;d()(Q,{VBtn:$["a"],VCard:q["a"],VCardText:z["b"],VCardTitle:z["c"],VContainer:L["a"],VForm:W["a"],VTextField:N["a"]});var tt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[i("h1",{staticClass:"d-flex justify-center ma-5"},[t._v("Community")]),i("v-simple-table",{attrs:{height:"600","max-height":"600","fixed-header":""},scopedSlots:t._u([{key:"default",fn:function(){return[i("thead",[i("tr",[i("th",{staticClass:"text-uppercase"},[t._v("글 제목")]),i("th",{staticClass:"text-center text-uppercase"},[t._v("영화 제목")]),i("th",{staticClass:"text-center text-uppercase"},[t._v("작성자")]),i("th",{staticClass:"text-center text-uppercase"},[t._v("작성시간")]),i("th",{staticClass:"text-center text-uppercase"},[t._v("마지막 수정시간")]),i("th",{staticClass:"text-center text-uppercase"},[t._v("비고")])])]),i("v-dialog",{attrs:{scrollable:"",width:"700"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[i("v-card",[i("v-card-title",[t._v("수정하기")]),i("v-divider"),i("v-card-text",[i("v-text-field",{attrs:{label:"Title"},model:{value:t.edit.title,callback:function(e){t.$set(t.edit,"title",e)},expression:"edit.title"}}),i("v-text-field",{attrs:{label:"Movie Title","aria-autocomplete":"on"},model:{value:t.edit.movie_title,callback:function(e){t.$set(t.edit,"movie_title",e)},expression:"edit.movie_title"}}),i("v-textarea",{attrs:{label:"Content"},model:{value:t.edit.content,callback:function(e){t.$set(t.edit,"content",e)},expression:"edit.content"}})],1),i("v-divider"),i("v-card-actions",{staticClass:"d-flex justify-end"},[i("v-btn",{attrs:{color:"primary darken-1",text:""},on:{click:function(e){t.editDialog=!1}}},[t._v(" 닫기 ")]),i("v-btn",{attrs:{color:"primary darken-1",text:""},on:{click:[function(e){return e.preventDefault(),t.updateArticle.apply(null,arguments)},function(e){t.editDialog=!1}]}},[t._v(" 수정하기 ")])],1)],1)],1),i("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[i("v-card",[i("v-card-title",{staticClass:"text-h5"},[t._v("정말로 삭제하시겠습니까? ")]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialogDelete=!t.dialogDelete}}},[t._v("Cancel")]),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteArticle}},[t._v("OK")]),i("v-spacer")],1)],1)],1),i("tbody",t._l(t.article_list,(function(e){return i("tr",{key:e.id},[i("td",{on:{click:function(i){return t.showArticleDetail(e.id)}}},[t._v(t._s(e.title))]),i("td",{staticClass:"text-center",on:{click:function(i){return t.showArticleDetail(e.id)}}},[t._v(" "+t._s(e.movie_title)+" ")]),i("td",{staticClass:"text-center",on:{click:function(i){return t.showArticleDetail(e.id)}}},[t._v(" "+t._s(e.author)+" ")]),i("td",{staticClass:"text-center",on:{click:function(i){return t.showArticleDetail(e.id)}}},[t._v(" "+t._s(e.created_at.slice(0,16))+" ")]),i("td",{staticClass:"text-center",on:{click:function(i){return t.showArticleDetail(e.id)}}},[t._v(" "+t._s(e.updated_at.slice(0,16))+" ")]),i("td",{staticClass:"text-center"},[i("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(i){return t.editArticle(e)}}},[t._v(" mdi-pencil ")]),i("v-icon",{attrs:{small:""},on:{click:function(i){return t.beforeArticle(e)}}},[t._v(" mdi-delete ")])],1)])})),0)]},proxy:!0}])}),i("div",{staticClass:"text-center"},[i("v-pagination",{attrs:{length:t.numofpage,color:"deep-purple darken-3"},model:{value:t.curpagenum,callback:function(e){t.curpagenum=e},expression:"curpagenum"}})],1),i("v-dialog",{attrs:{scrollable:"",width:"700"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,a=e.attrs;return[i("v-btn",t._g(t._b({attrs:{color:"deep-purple darken-3",fab:"",id:"create-article"}},"v-btn",a,!1),n),[i("v-icon",{attrs:{"cx-large":""}},[t._v("mdi-plus")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("v-card-title",[t._v("새로운 글쓰기")]),i("v-divider"),i("v-card-text",[i("v-text-field",{attrs:{label:"Title"},model:{value:t.title,callback:function(e){t.title="string"===typeof e?e.trim():e},expression:"title"}}),i("v-text-field",{attrs:{label:"Movie Title","aria-autocomplete":"on"},model:{value:t.movie_title,callback:function(e){t.movie_title="string"===typeof e?e.trim():e},expression:"movie_title"}}),i("v-textarea",{attrs:{label:"Content"},model:{value:t.content,callback:function(e){t.content="string"===typeof e?e.trim():e},expression:"content"}})],1),i("v-divider"),i("v-card-actions",{staticClass:"d-flex justify-end"},[i("v-btn",{attrs:{color:"primary darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" 닫기 ")]),i("v-btn",{attrs:{color:"primary darken-1",text:""},on:{click:[function(e){return e.preventDefault(),t.createArticle.apply(null,arguments)},function(e){t.dialog=!1}]}},[t._v(" 게시하기 ")])],1)],1)],1)],1)},et=[],it=i("1da1"),nt=(i("fb6a"),i("96cf"),{name:"Community",components:{},data:function(){return{articles:null,title:null,movie_title:null,content:null,dialog:!1,curpagenum:1,datapage:10,articlelist:[],dialogDelete:!1,aricleToDelete:null,editDialog:!1,edit:{title:"",content:"",movie_title:""}}},methods:{setToken:function(){var t=localStorage.getItem("jwt"),e={Authorization:"JWT ".concat(t)};return e},getArticles:function(){var t=this;S()({method:"get",url:"http://3.143.230.89/community/articles/",headers:this.setToken()}).then((function(e){console.log(e),t.articles=e.data})).catch((function(t){console.log(t)}))},createArticle:function(){var t=this,e={title:this.title,movie_title:this.movie_title,content:this.content};e.title&&S()({method:"post",url:"http://3.143.230.89/community/articles/",data:e,headers:this.setToken()}).then((function(e){console.log(e),t.getArticlelist()})).catch((function(t){console.log(t)})),this.title="",this.movie_title="",this.content=""},beforeArticle:function(t){this.dialogDelete=!0,this.articleToDelete=t,console.log(this.articleToDelete.id)},deleteArticle:function(){var t=this;console.log(this.articleToDelete),S()({method:"delete",url:"http://3.143.230.89/community/articles/".concat(this.articleToDelete.id,"/"),headers:this.setToken()}).then((function(e){console.log(e),t.dialogDelete=!1,t.getArticlelist()})).catch((function(t){console.log(t)}))},editArticle:function(t){this.editDialog=!0,this.edit=t},updateArticle:function(){var t=this,e={title:this.edit.title,movie_title:this.edit.movie_title,content:this.edit.content};S()({method:"put",url:"http://3.143.230.89/community/articles/".concat(this.edit.id,"/"),data:e,headers:this.setToken()}).then((function(e){console.log(e),t.getArticlelist()})).catch((function(e){console.log(e),t.$router.push({name:"Error"})}))},getArticlelist:function(){var t=this;return Object(it["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("http://3.143.230.89/community/articles/").then((function(e){t.articlelist=e.data}),(function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()},getMovies:function(){var t=this;S()({method:"get",url:"http://3.143.230.89/movies/",headers:this.setToken()}).then((function(e){console.log(e),t.movies=e.data})).catch((function(t){console.log(t)}))},showArticleDetail:function(t){this.$router.push({name:"ArticleDetail",query:{id:t}})}},created:function(){var t=this;localStorage.getItem("jwt")?S()({method:"get",url:"http://3.143.230.89/community/articles/",headers:this.setToken()}).then((function(e){console.log(e),t.pageArray=e.data,t.getArticlelist()})).catch((function(t){console.log(t)})):(alert("커뮤니티 이용을 위해 로그인해주세요!"),this.$router.push({name:"Login"}))},computed:{startOffset:function(){return(this.curpagenum-1)*this.datapage},endOffset:function(){return this.startOffset+this.datapage},numofpage:function(){return Math.ceil(this.articlelist.length/this.datapage)},article_list:function(){return this.articlelist.slice(this.startOffset,this.endOffset)}},mounted:function(){this.getArticles(),this.getArticlelist()}}),at=nt,ot=(i("95d4"),i("169a")),rt=i("ce7e"),st=i("891e"),ct=i("1f4f"),lt=i("2fa4"),dt=i("a844"),ut=Object(c["a"])(at,tt,et,!1,null,"46e7a39f",null),vt=ut.exports;d()(ut,{VBtn:$["a"],VCard:q["a"],VCardActions:z["a"],VCardText:z["b"],VCardTitle:z["c"],VContainer:L["a"],VDialog:ot["a"],VDivider:rt["a"],VIcon:h["a"],VPagination:st["a"],VSimpleTable:ct["a"],VSpacer:lt["a"],VTextField:N["a"],VTextarea:dt["a"]});var mt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[i("v-card",[i("v-card-title",[t._v(" "+t._s(t.article.title))]),i("v-card-text",{staticClass:"d-flex align-center flex-wrap body-1"},[i("span",{staticClass:"ms-3 text-sm"},[t._v("작성자: "+t._s(t.article.author))]),i("v-spacer"),i("span",{staticClass:"ms-3 text-sm"},[t._v(t._s(t.article.created_at.slice(0,10)))])],1),i("v-card-text",[t._v(" "+t._s(t.article.content)+" ")])],1),i("v-card",{staticClass:"mt-3",attrs:{"min-height":"350"}},[i("v-card-text",[t.comments?i("div",t._l(t.comments,(function(e){return i("div",{key:e.pk,staticClass:"d-flex"},[i("h4",[t._v(t._s(e.author)+" : "+t._s(e.content))]),i("v-spacer"),i("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(i){return t.deleteComment(e)}}},[i("v-icon",[t._v("mdi-trash-can-outline")])],1)],1)})),0):i("div",[i("h3",[t._v("Not Comment yet...")])])])],1),i("v-form",{ref:"form",staticClass:"d-flexalign-items-end",attrs:{"lazy-validation":""}},[i("v-text-field",{attrs:{label:"Comment",required:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.createComment.apply(null,arguments)}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),i("div",{staticClass:"d-flex justify-start"},[i("v-btn",{staticClass:"mr-4",attrs:{color:"primary",dark:"",outlined:""},on:{click:t.gotoBack}},[i("v-icon",{attrs:{dark:"",left:""}},[t._v(" mdi-arrow-left ")]),t._v("Back ")],1),i("v-spacer"),i("v-btn",{staticClass:"mr-4",attrs:{color:"primary",outlined:""},on:{click:t.createComment}},[t._v(" comment ")])],1)],1)],1)},ht=[],ft=(i("99af"),{name:"ArticleDetail",data:function(){return{article:null,comments:[],content:""}},methods:{setToken:function(){var t=localStorage.getItem("jwt"),e={Authorization:"JWT ".concat(t)};return e},getComments:function(){var t=this;S()({method:"get",url:"http://3.143.230.89/community/comments/".concat(this.article.id,"/"),headers:this.setToken()}).then((function(e){console.log(e),e.data&&(t.comments=e.data)})).catch((function(t){console.log(t)}))},createComment:function(){var t=this,e={content:this.content};e.content&&S()({method:"post",url:"http://3.143.230.89/community/comment_create/".concat(this.article.id,"/"),data:e,headers:this.setToken()}).then((function(e){console.log(e),t.comments.push(e.data)})).catch((function(t){console.log(t)})),this.content=""},deleteComment:function(t){var e=this;S()({method:"delete",url:"http://3.143.230.89/community/comment/".concat(this.article.id,"/").concat(t.id,"/"),headers:this.setToken()}).then((function(t){console.log(t),e.comments=t.data,e.getComments()})).catch((function(t){console.log(t)}))},gotoBack:function(){this.$router.go(-1)}},created:function(){var t=this;console.log("created!"),S()({method:"get",url:"http://3.143.230.89/community/articles/".concat(this.$route.query.id),headers:this.setToken()}).then((function(e){console.log(e),t.article=e.data,t.getComments()})).catch((function(e){console.log(e),t.$router.push({name:"Error"})}))}}),pt=ft,gt=(i("b057"),Object(c["a"])(pt,mt,ht,!1,null,"5d21cf2c",null)),kt=gt.exports;d()(gt,{VBtn:$["a"],VCard:q["a"],VCardText:z["b"],VCardTitle:z["c"],VContainer:L["a"],VForm:W["a"],VIcon:h["a"],VSpacer:lt["a"],VTextField:N["a"]});var _t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[i("v-btn",{staticClass:"mx-2 text--white",attrs:{id:"search-btn",fab:"",dark:"",large:"",color:"deep-purple darken-3"},on:{click:function(e){t.showSearch=!t.showSearch}}},[i("v-icon",{attrs:{dark:""}},[t._v(" mdi-movie-search-outline ")])],1),i("div",{attrs:{id:"search-input"}},[i("v-text-field",{directives:[{name:"show",rawName:"v-show",value:t.showSearch,expression:"showSearch"}],attrs:{label:"Keyword",clearable:"",filled:"",autofocus:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),i("v-row",t._l(t.filteredMovies,(function(e,n){return i("v-col",{key:n,staticClass:"d-flex child-flex",attrs:{cols:"12",xl:"2",lg:"3",md:"4",sm:"6"}},[i("MovieDetail",{attrs:{movie:t.filteredMovies[n]}})],1)})),1)],1)},xt=[],wt=(i("4de4"),i("d3b7"),i("466d"),i("841c"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[i("v-img",{staticClass:"grey lighten-2",attrs:{src:t.movie.poster_path,"lazy-src":t.movie.poster_path,"aspect-ratio":"0.7",id:"movie--detail-transfer"},on:{mouseover:function(e){t.overlay=!0},mouseleave:function(e){t.overlay=!1}},scopedSlots:t._u([{key:"placeholder",fn:function(){return[i("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[i("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}])},[i("v-fade-transition",{staticStyle:{width:"100%"}},[i("v-overlay",{attrs:{absolute:t.absolute,value:t.overlay}},[i("div",{staticStyle:{height:"100%",width:"100%"}},[i("div",{staticClass:"text-h5 text-center",staticStyle:{width:"100%","overflow-wrap":"break-word","word-wrap":"break-word"}},[i("div",[t._v(t._s(t.movie.title))])]),i("div",{staticClass:"text-center d-flex justify-center align-items-end"},[i("v-btn",{attrs:{color:"deep-purple darken-3"},on:{click:t.showDetail}},[t._v(" 상세보기 ")])],1)])])],1)],1)],1)}),bt=[],Ct={name:"MovieDetail",data:function(){return{overlay:!1,absolute:!0,title:"",content:"",poster_path:""}},components:{},props:{movie:Object},methods:{showDetail:function(){this.$router.push({name:"MovieDetail",query:{pk:this.movie.movie_id}})}}},yt=Ct,Vt=(i("4467"),i("0789")),Tt=i("adda"),Dt=i("a797"),jt=i("490a"),At=i("0fd9"),St=Object(c["a"])(yt,wt,bt,!1,null,"742f19de",null),Rt=St.exports;d()(St,{VBtn:$["a"],VContainer:L["a"],VFadeTransition:Vt["c"],VImg:Tt["a"],VOverlay:Dt["a"],VProgressCircular:jt["a"],VRow:At["a"]});var Ot={name:"Movies",data:function(){return{movies:[],search:"",showSearch:!1}},components:{MovieDetail:Rt},methods:{setToken:function(){var t=localStorage.getItem("jwt"),e={Authorization:"JWT ".concat(t)};return e},getMovies:function(){var t=this;S()({method:"get",url:"http://3.143.230.89/movies/",headers:this.setToken()}).then((function(e){console.log(e),t.movies=e.data})).catch((function(t){console.log(t)}))}},created:function(){localStorage.getItem("jwt")?this.getMovies():(alert("영화목록 조회는 로그인이 필요합니다."),this.$router.push({name:"Login"}))},computed:{filteredMovies:function(){var t=this;return this.movies.filter((function(e){return e.title.match(t.search)}))}}},$t=Ot,Lt=(i("d08f"),i("62ad")),It=Object(c["a"])($t,_t,xt,!1,null,null,null),Mt=It.exports;d()(It,{VBtn:$["a"],VCol:Lt["a"],VContainer:L["a"],VIcon:h["a"],VRow:At["a"],VTextField:N["a"]});var Et=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-img",{staticClass:"rounded-lg",attrs:{src:"https://image.tmdb.org/t/p/w500"+t.movie.backdrop_path,"max-height":"450",gradient:"to top right, rgba(0, 0, 0, .8), rgba(0, 0, 0, .8)"}},[i("v-card",{staticClass:"ma-5",attrs:{outlined:"",color:"transparent"}},[i("div",{staticClass:"d-flex flex-column-reverse flex-md-row"},[i("div",[i("v-card-title",[i("h1",[t._v(t._s(t.movie.title))])]),i("v-card-text",{staticClass:"d-flex align-center flex-wrap body-1"},[i("div",[i("v-rating",{staticClass:"me-3 flex-shrink-0",attrs:{value:t.movie.vote_average/2,"half-increments":"",color:"warning","background-color":"warning",dense:"",readonly:""}})],1),i("v-icon",{on:{click:function(e){return t.movie_like(t.movie)}}},[t._v(t._s(t.movieLiked?"mdi-heart":"mdi-heart-outline"))]),i("span",{staticClass:"text-sm"},[t._v(" "+t._s(t.movieLikeCnt)+"명이 좋아합니다 | "+t._s(t.reviewList.length)+" reviews")])],1),i("v-card-text",[t._v(" "+t._s(t.movie.overview)+" ")]),i("v-card-actions",{staticClass:"dense d-flex justify-end"},[i("v-btn",{attrs:{text:"",color:"primary",dark:""}},[t._v(" 영화보러가기 ")])],1)],1),i("v-spacer"),i("div",{staticClass:"pa-4"},[i("v-img",{class:t.$vuetify.breakpoint.mdAndUp?"rounded-lg":"rounded-0",attrs:{src:t.movie.poster_path,height:"100%","max-width":t.$vuetify.breakpoint.mdAndUp?"220":"100%"}})],1)],1)])],1),i("div",{},[i("v-tabs",{attrs:{"fixed-tabs":"","background-color":"dark",dark:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("v-tab",[t._v(" casting ")]),i("v-tab",[t._v(" overview ")]),i("v-tab",{on:{click:function(e){return t.getComments(t.movie)}}},[t._v(" comment ")]),i("v-tab",{on:{click:function(e){return t.getReviewlist(t.movie)}}},[t._v(" review ")])],1),i("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("v-tab-item",[i("v-container",{attrs:{height:"400",fluid:""}},[i("v-row",t._l(t.actors,(function(e){return i("v-col",{key:e.id,attrs:{cols:"2",lg:"2",sm:"3",xs12:""}},[i("div",{staticClass:"ma-5"},[i("div",{staticClass:"text-center"},[i("v-avatar",{attrs:{size:"128"}},[i("v-img",{attrs:{src:e.profile_path}})],1)],1),i("h3",{staticClass:"text-center"},[t._v(t._s(e.name))])])])})),1)],1)],1),i("v-tab-item",[i("v-card",{attrs:{flat:"",height:"400"}},[i("v-card-text",[t._v(t._s(t.movie.overview)+" ")])],1)],1),i("v-tab-item",[i("v-container",[i("v-row",{attrs:{align:"end"}},[i("v-col",{attrs:{cols:"12"}},[i("h5",[t._v("leave your comments")]),i("div",[i("v-form",{ref:"form",staticClass:"d-flexalign-items-end",attrs:{"lazy-validation":""}},[i("v-text-field",{attrs:{label:"Comment",required:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.createComment(t.movie)}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),i("div",{staticClass:"d-flex justify-end"},[i("v-btn",{staticClass:"mr-4",attrs:{color:"primary",outlined:""},on:{click:function(e){return t.createComment(t.movie)}}},[t._v(" comment ")])],1)],1)],1)]),i("v-col",{attrs:{cols:"12"}},[i("v-card",{attrs:{"min-height":"350"}},[i("v-card-text",{staticClass:"scroll"},[t.comments?i("div",t._l(t.comments,(function(e){return i("div",{key:e.pk,staticClass:"d-flex"},[i("h4",[t._v(t._s(e.author)+" : "+t._s(e.content))]),i("v-spacer"),i("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(i){return t.deleteComment(t.movie,e)}}},[i("v-icon",[t._v("mdi-trash-can-outline")])],1)],1)})),0):i("div",[i("h3",[t._v("Not Comment yet...")])])])],1)],1)],1)],1)],1),i("v-tab-item",[i("v-card",{attrs:{"min-height":"400"}},[i("div",[i("v-row",t._l(t.reviewList,(function(e){return i("v-col",{key:e.pk,attrs:{cols:"12",md:"6",lg:"4"}},[i("ReviewItem",{attrs:{review:e,movie:t.movie},on:{"get-review-list":t.getReviewlist}})],1)})),1)],1)]),i("div",{staticClass:"d-flex justify-end ma-5"},[i("v-btn",{attrs:{flat:"","rounded-0":"",outlined:"",color:"primary"},on:{click:function(e){t.dialog=!t.dialog}}},[i("v-icon",[t._v("mdi-plus")])],1)],1),i("v-pagination",{staticClass:"ma-3",attrs:{length:t.numofpage},model:{value:t.curpagenum,callback:function(e){t.curpagenum=e},expression:"curpagenum"}}),i("v-spacer"),i("v-dialog",{attrs:{scrollable:"",width:"700"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("v-card-title",[t._v("리뷰 작성하기")]),i("v-divider"),i("v-card-text",[i("v-text-field",{attrs:{label:"Title"},model:{value:t.title,callback:function(e){t.title="string"===typeof e?e.trim():e},expression:"title"}}),i("v-rating",{staticClass:"me-3 flex-shrink-0",attrs:{"half-increments":"",color:"warning","background-color":"warning",dense:""},model:{value:t.score,callback:function(e){t.score=e},expression:"score"}}),i("v-textarea",{attrs:{label:"Content"},model:{value:t.content,callback:function(e){t.content="string"===typeof e?e.trim():e},expression:"content"}})],1),i("v-divider"),i("v-card-actions",{staticClass:"d-flex justify-end"},[i("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" 닫기 ")]),i("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:[function(e){return e.preventDefault(),t.createReview(t.movie)},function(e){t.dialog=!1}]}},[t._v(" 게시하기 ")])],1)],1)],1)],1)],1)],1)],1)},Pt=[],Bt=(i("b0c0"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",[i("v-dialog",{attrs:{scrollable:"",width:"700"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[i("v-card",[i("v-card-title",[t._v("수정하기")]),i("v-divider"),i("v-card-text",[i("v-text-field",{attrs:{label:"Title"},model:{value:t.edit.title,callback:function(e){t.$set(t.edit,"title",e)},expression:"edit.title"}}),i("div",[i("v-rating",{staticClass:"me-3 flex-shrink-0",attrs:{value:t.review.score,"half-increments":"",color:"warning","background-color":"warning",dense:""},model:{value:t.edit.score,callback:function(e){t.$set(t.edit,"score",e)},expression:"edit.score"}})],1),i("v-textarea",{attrs:{label:"Content"},model:{value:t.edit.content,callback:function(e){t.$set(t.edit,"content",e)},expression:"edit.content"}})],1),i("v-divider"),i("v-card-actions",{staticClass:"d-flex justify-end"},[i("v-btn",{attrs:{color:"primary darken-1",text:""},on:{click:function(e){t.editDialog=!1}}},[t._v(" 닫기 ")]),i("v-btn",{attrs:{color:"primary darken-1",text:""},on:{click:[function(e){return e.preventDefault(),t.updateReview.apply(null,arguments)},function(e){t.editDialog=!1}]}},[t._v(" 수정하기 ")])],1)],1)],1),i("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[i("v-card",[i("v-card-title",{staticClass:"text-h5"},[t._v("정말로 삭제하시겠습니까? ")]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialogDelete=!t.dialogDelete}}},[t._v("Cancel")]),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteReview}},[t._v("OK")]),i("v-spacer")],1)],1)],1),i("v-card-title",[t._v(t._s(t.review.title)),i("v-spacer"),i("span",[t._v(t._s(t.review.created_at.slice(0,10)))])],1),i("v-card-text",{staticClass:"d-flex align-center flex-wrap body-1"},[i("v-rating",{attrs:{value:t.review.score,color:"warning","background-color":"warning",dense:"","half-increments":"",readonly:""}}),i("span",{staticClass:"ms-3 text-sm"},[t._v(t._s(t.review.like_users)+" likes")]),i("v-spacer"),t._v(" "+t._s(t.review.author)+" ")],1),i("v-card-text",[t._v(" "+t._s(t.review.content)+" ")]),i("v-card-actions",[i("v-btn",{attrs:{color:"grey",text:""},on:{click:function(e){return t.editReview(t.review)}}},[i("v-icon",[t._v("mdi-border-color")])],1),i("v-icon",{attrs:{color:"grey"},on:{click:function(e){return t.beforeReview(t.review)}}},[t._v(" mdi-delete ")]),i("v-spacer"),i("v-btn",{staticClass:"ma-2",attrs:{text:"",icon:"",color:"blue lighten-2"}},[i("v-icon",{on:{click:function(e){return t.like(t.review)}}},[t._v(t._s(t.liked?"mdi-thumb-up":"mdi-thumb-up-outline"))])],1)],1)],1)}),Ft=[],qt={name:"ReviewItem",components:{},props:{review:{type:Object},movie:{type:Object}},data:function(){return{title:"",content:"",show:!1,liked:null,likeCnt:0,movieLike:null,movieLikeCnt:0,editDialog:!1,dialogDelete:!1,reviewToDelete:null,edit:{title:"",content:"",movie_title:""}}},methods:{setToken:function(){var t=localStorage.getItem("jwt"),e={Authorization:"JWT ".concat(t)};return e},getReviewlist:function(){var t=this;return Object(it["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$emit("get-review-list",t.movie);case 1:case"end":return e.stop()}}),e)})))()},like:function(t){var e=this;S()({method:"post",url:"http://3.143.230.89/movies/".concat(t.id,"/like/"),headers:this.setToken()}).then((function(t){console.log(t),e.liked=t.data.liked,e.likeCnt=t.data.like_count})).catch((function(t){console.log(t)}))},movie_like:function(t){var e=this;S()({method:"post",url:"http://3.143.230.89/movies/".concat(t.movie_id,"/movie_like/"),headers:this.setToken()}).then((function(t){console.log(t),e.movieLiked=t.data.movie_liked,e.movieLikeCnt=t.data.movie_like_count})).catch((function(t){console.log(t)}))},beforeReview:function(t){this.dialogDelete=!0,this.reviewToDelete=t,console.log(this.reviewToDelete.id)},deleteReview:function(){var t=this;console.log(this.reviewToDelete),S()({method:"delete",url:"http://3.143.230.89/movies/".concat(this.reviewToDelete.id,"/review/"),headers:this.setToken()}).then((function(e){console.log(e),t.dialogDelete=!1,t.getReviewlist(t.movie)})).catch((function(t){console.log(t),alert("잘못된 접근입니다")}))},editReview:function(t){this.editDialog=!0,this.edit=t},updateReview:function(){var t={title:this.edit.title,content:this.edit.content};S()({method:"put",url:"http://3.143.230.89/movies/".concat(this.edit.id,"/review/"),data:t,headers:this.setToken()}).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))},getReviewLike:function(t){var e=this;S()({method:"get",url:"http://3.143.230.89/movies/".concat(t.id,"/get_review_like/"),headers:this.setToken()}).then((function(t){console.log(t),e.liked=t.data.liked,e.likeCnt=t.data.like_count})).catch((function(t){console.log(t)}))}}},zt=qt,Jt=i("1d4d"),Wt=Object(c["a"])(zt,Bt,Ft,!1,null,null,null),Nt=Wt.exports;d()(Wt,{VBtn:$["a"],VCard:q["a"],VCardActions:z["a"],VCardText:z["b"],VCardTitle:z["c"],VDialog:ot["a"],VDivider:rt["a"],VIcon:h["a"],VRating:Jt["a"],VSpacer:lt["a"],VTextField:N["a"],VTextarea:dt["a"]});var Ut={components:{ReviewItem:Nt},data:function(){return{tab:null,movie:null,actors:[],comments:null,content:"",show:null,comment:null,dialog:null,curpagenum:1,datapage:12,reviews:[],title:null,score:0,rating:0,movieLiked:null,movieLikeCnt:0}},methods:{setToken:function(){var t=localStorage.getItem("jwt"),e={Authorization:"JWT ".concat(t)};return e},getComments:function(t){var e=this;S()({method:"get",url:"http://3.143.230.89/movies/".concat(t.movie_id,"/comments/"),headers:this.setToken()}).then((function(t){console.log(t),e.comments=t.data})).catch((function(t){console.log(t)}))},getMovieLike:function(t){var e=this;S()({method:"get",url:"http://3.143.230.89/movies/".concat(t.movie_id,"/get_movie_like/"),headers:this.setToken()}).then((function(t){console.log(t),e.movieLiked=t.data.movie_liked,e.movieLikeCnt=t.data.movie_like_count})).catch((function(t){console.log(t)}))},createComment:function(t){var e=this,i={content:this.content};i.content&&S()({method:"post",url:"http://3.143.230.89/movies/".concat(t.movie_id,"/comment/"),data:i,headers:this.setToken()}).then((function(i){console.log(i),e.getComments(t)})).catch((function(t){console.log(t)})),this.content=""},createReview:function(t){var e=this,i={title:this.title,score:this.score,content:this.content};console.log(this.score),i.title&&S()({method:"post",url:"http://3.143.230.89/movies/".concat(t.movie_id,"/reviews/"),data:i,headers:this.setToken()}).then((function(i){console.log(i),e.getReviewlist(t)})).catch((function(t){console.log(t)})),this.title="",this.score=0,this.content=""},getReviewlist:function(t){var e=this;return Object(it["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,S.a.get("http://3.143.230.89/movies/".concat(t.movie_id,"/reviews/")).then((function(t){e.reviews=t.data}),(function(t){console.log(t)}));case 2:case"end":return i.stop()}}),i)})))()},like:function(t){var e=this;S()({method:"post",url:"http://3.143.230.89/movies/like/".concat(t.id,"/"),headers:this.setToken()}).then((function(t){console.log(t),e.liked=t.data.liked,e.likeCnt=t.data.like_count})).catch((function(t){console.log(t)}))},movie_like:function(t){var e=this;S()({method:"post",url:"http://3.143.230.89/movies/".concat(t.movie_id,"/movie_like/"),headers:this.setToken()}).then((function(t){console.log(t),e.movieLiked=t.data.movie_liked,e.movieLikeCnt=t.data.movie_like_count})).catch((function(t){console.log(t)}))},deleteComment:function(t,e){var i=this;S()({method:"delete",url:"http://3.143.230.89/movies/".concat(this.movie.movie_id,"/").concat(e.id,"/comment/"),headers:this.setToken()}).then((function(e){console.log(e),i.getComments(t),i.getReviewlist(t)})).catch((function(t){console.log(t)}))}},created:function(){var t=this;S()({method:"get",url:"http://3.143.230.89/movies/".concat(this.$route.query.pk,"/"),headers:this.setToken()}).then((function(e){console.log(e),t.movie=e.data,t.getMovieLike(t.movie),t.getReviewlist(t.movie);for(var i=0;i<20;i++)S()({method:"get",url:"https://api.themoviedb.org/3/person/".concat(t.movie.actors[i].actor_id,"?api_key=1e1628fa2029e5e5102664565f10a845&language=ko-kr")}).then((function(e){console.log(e);var i={name:e.data.name,profile_path:"https://image.tmdb.org/t/p/w500"+e.data.profile_path};t.actors.push(i)}))})).catch((function(t){console.log(t)}))},computed:{startOffset:function(){return(this.curpagenum-1)*this.datapage},endOffset:function(){return this.startOffset+this.datapage},numofpage:function(){return Math.ceil(this.reviews.length/this.datapage)},reviewList:function(){return this.reviews.slice(this.startOffset,this.endOffset)}}},Zt=Ut,Ht=i("8212"),Kt=i("71a3"),Yt=i("c671"),Gt=i("fe57"),Qt=i("aac8"),Xt=Object(c["a"])(Zt,Et,Pt,!1,null,null,null),te=Xt.exports;d()(Xt,{VAvatar:Ht["a"],VBtn:$["a"],VCard:q["a"],VCardActions:z["a"],VCardText:z["b"],VCardTitle:z["c"],VCol:Lt["a"],VContainer:L["a"],VDialog:ot["a"],VDivider:rt["a"],VForm:W["a"],VIcon:h["a"],VImg:Tt["a"],VPagination:st["a"],VRating:Jt["a"],VRow:At["a"],VSpacer:lt["a"],VTab:Kt["a"],VTabItem:Yt["a"],VTabs:Gt["a"],VTabsItems:Qt["a"],VTextField:N["a"],VTextarea:dt["a"]});var ee=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[i("v-flex",{attrs:{xs8:"","offset-md2":""}},t._l(t.articles,(function(e){return i("div",{key:e.title},[i("v-card",{staticClass:"my-3",attrs:{hover:""}},[i("v-container",{attrs:{"fill-height":"",fluid:""}},[i("v-layout",[i("v-flex",{attrs:{xs12:"","align-end":"","d-flex":""}},[i("span",{staticClass:"headline"},[t._v(t._s(e.title))])])],1)],1),i("v-card-text",[t._v(" "+t._s(e.description)+" ")]),i("v-card-actions",[i("v-chip",{staticClass:"white--text",attrs:{small:"",color:"secondary"}}),i("v-spacer"),i("v-spacer"),i("v-btn",{attrs:{small:"",replace:"",color:"info",href:e.url,target:"_blank"}},[t._v("Read More")])],1)],1)],1)})),0)],1)},ie=[],ne={data:function(){return{articles:[{title:"test",urlToImage:"https://image.tmdb.org/t/p/w500/i8CQIAEAjkieDIA88b4gh122h8s.jpg",description:"test content"}]}}},ae=ne,oe=i("cc20"),re=i("0e8f"),se=i("a722"),ce=Object(c["a"])(ae,ee,ie,!1,null,null,null),le=ce.exports;d()(ce,{VBtn:$["a"],VCard:q["a"],VCardActions:z["a"],VCardText:z["b"],VChip:oe["a"],VContainer:L["a"],VFlex:re["a"],VLayout:se["a"],VSpacer:lt["a"]});var de=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[i("v-card",{staticClass:"mx-auto",attrs:{"max-width":"500"}},[i("v-toolbar",{attrs:{flat:"",color:"deep-purple darken-3",dark:""}},[i("v-toolbar-title",[t._v("당신의 한끼에 맞는 영화를 추천해드립니다!")])],1),i("v-card-text",[i("h2",{staticClass:"text-h6 mb-2"},[t._v("지금 무엇을 드시나요?")]),i("v-chip-group",{attrs:{column:"",multiple:""},model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},t._l(t.menues,(function(e){return i("v-chip",{key:e,attrs:{filter:"",outlined:""}},[t._v(t._s(e))])})),1)],1),i("v-card-text",[i("h2",{staticClass:"text-h6 mb-2"},[t._v("혹은, 카테고리를 선택해주세요!")]),i("v-chip-group",{attrs:{column:"",multiple:""},model:{value:t.cate,callback:function(e){t.cate=e},expression:"cate"}},t._l(t.cates,(function(e){return i("v-chip",{key:e,attrs:{filter:"",outlined:""}},[t._v(" "+t._s(e)+" ")])})),1)],1),i("v-card-text",{staticClass:"text-end"},[i("v-btn",{attrs:{icon:"",color:"green"},on:{click:t.getRecommendMovies}},[i("v-icon",{attrs:{"x-large":"",color:"deep-purple lighten-5"}},[t._v(" mdi-check-circle ")])],1)],1)],1)],1)},ue=[],ve={name:"Recommend",data:function(){return{menues:["양식","중식","일식","한식","분식","간식"],cates:["면류","빵류","패스트푸드","혼술","매운","느끼한"],menu:[],cate:[]}},methods:{getRecommendMovies:function(){for(var t=[],e=0;e<this.menu.length;e++)t.push(this.menues[this.menu[e]]);for(var i=0;i<this.cate.length;i++)t.push(this.cates[this.cate[i]]);console.log(t),t.length>0?this.$router.push({name:"MovieSelect",query:{select:t}}):alert("음식을 고르세요!")}},created:function(){localStorage.getItem("jwt")?this.getRecommendMovies():this.$router.push({name:"Login"})}},me=ve,he=i("ef9a"),fe=i("71d9"),pe=Object(c["a"])(me,de,ue,!1,null,null,null),ge=pe.exports;d()(pe,{VBtn:$["a"],VCard:q["a"],VCardText:z["b"],VChip:oe["a"],VChipGroup:he["a"],VContainer:L["a"],VIcon:h["a"],VToolbar:fe["a"],VToolbarTitle:w["a"]});var ke=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{staticStyle:{justify:"center"}},[i("h1",{staticClass:"d-flex justify-center ma-3"},[t._v("Recommend Movies")]),i("v-carousel",{staticStyle:{display:"flex","flex-direction":"column"},attrs:{width:"300","hide-delimiter-background":"","show-arrows-on-hover":""}},t._l(t.movies,(function(e,n){return i("v-carousel-item",{key:n,attrs:{"reverse-transition":"fade-transition",transition:"fade-transition"}},[i("v-card",{staticClass:"transparent",attrs:{"max-width":"100%",height:"100%"}},[i("div",{staticClass:"d-flex flex-column-reverse flex-md-row"},[i("v-img",{class:t.$vuetify.breakpoint.mdAndUp?"rounded-lg":"rounded-0",attrs:{contain:"",src:e.poster_path,height:"100%","max-width":t.$vuetify.breakpoint.mdAndUp?"220":"100%"}}),i("div",[i("v-card-title",[t._v(" "+t._s(e.title)+" ")]),i("v-card-text",{staticClass:"d-flex align-center flex-wrap body-1"},[i("v-rating",{staticClass:"me-3 flex-shrink-0",attrs:{"half-increments":"",value:e.vote_average/2,readonly:"",color:"warning","background-color":"warning",dense:""}}),i("v-icon",{on:{click:function(i){return t.movie_like(e)}}},[t._v(t._s(t.movie_liked?"mdi-heart":"mdi-heart-outline"))]),i("span",{staticClass:"text-sm"},[t._v(t._s(t.movie_likeCnt)+"명이 좋아합니다 | "+t._s(e.vote_count)+"명 투표")])],1),i("v-card-text",[t._v(" "+t._s(e.overview)+" ")]),i("v-card-actions",{staticClass:"dense d-flex justify-end"},[i("v-btn",{attrs:{text:"",color:"primary",dark:""},on:{click:function(i){return t.showDetail(e.movie_id)}}},[t._v(" 상세보기 ")])],1)],1),i("div",{staticClass:"pa-4"})],1)])],1)})),1)],1)},_e=[],xe={data:function(){return{movies:null,movie_liked:!1,movie_likeCnt:0}},components:{},methods:{setToken:function(){var t=localStorage.getItem("jwt"),e={Authorization:"JWT ".concat(t)};return e},showDetail:function(t){this.$router.push({name:"MovieDetail",query:{pk:t}})},getMovieLike:function(t){var e=this;S()({method:"get",url:"http://3.143.230.89/movies/".concat(t.movie_id,"/get_movie_like/"),headers:this.setToken()}).then((function(t){console.log(t),e.movieLiked=t.data.movie_liked,e.movieLikeCnt=t.data.movie_like_count})).catch((function(t){console.log(t)}))},movie_like:function(t){var e=this;S()({method:"post",url:"http://3.143.230.89/movies/".concat(t.movie_id,"/movie_like/"),headers:this.setToken()}).then((function(t){console.log(t),e.movie_liked=t.data.movie_liked,e.movie_likeCnt=t.data.movie_like_count})).catch((function(t){console.log(t)}))}},created:function(){var t=this,e=this.$route.query.select;S()({method:"post",url:"http://3.143.230.89/movies/recommend/select/",data:e,headers:this.setToken()}).then((function(e){console.log(e),t.movies=e.data,t.getMovieLike(t.movie)}))}},we=xe,be=i("5e66"),Ce=i("3e35"),ye=Object(c["a"])(we,ke,_e,!1,null,"15257e70",null),Ve=ye.exports;d()(ye,{VBtn:$["a"],VCard:q["a"],VCardActions:z["a"],VCardText:z["b"],VCardTitle:z["c"],VCarousel:be["a"],VCarouselItem:Ce["a"],VContainer:L["a"],VIcon:h["a"],VImg:Tt["a"],VRating:Jt["a"]});var Te=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"page-title text-center px-5"},[i("h1",{staticClass:"\n        text-2xl\n        font-weight-semibold\n        text--primary\n        d-flex\n        align-center\n        justify-center\n      "},[i("span",{staticClass:"me-2"},[t._v("404: Page Not Found")]),i("v-icon",{attrs:{color:"warning"}},[t._v(" mdi-alert ")])],1),i("p",{staticClass:"text-sm"},[t._v("에러가 발생했습니다.")]),i("v-btn",{staticClass:"mb-4",attrs:{color:"error",to:"/"}},[t._v(" 홈으로 돌아가기 ")])],1)])},De=[],je={},Ae=je,Se=Object(c["a"])(Ae,Te,De,!1,null,null,null),Re=Se.exports;d()(Se,{VBtn:$["a"],VIcon:h["a"]}),n["a"].use(T["a"]);var Oe=[{path:"/",name:"Home",component:M},{path:"/accounts/login",name:"Login",component:Z},{path:"/Error",name:"Error",component:Re},{path:"/accounts/signup",name:"Signup",component:X},{path:"/community",name:"Community",component:vt},{path:"/community/detail",name:"ArticleDetail",component:kt},{path:"/communitytemp",name:"Communitytemp",component:le},{path:"/movies",name:"Movies",component:Mt},{path:"/movies/detail",name:"MovieDetail",component:te},{path:"/movies/recommend",name:"Recommend",component:ge},{path:"/movies/recommend/view",name:"MovieSelect",component:Ve}],$e=new T["a"]({mode:"history",base:"/",routes:Oe}),Le=$e,Ie=i("f309");n["a"].use(Ie["a"]);var Me=new Ie["a"]({theme:{dark:!0}});n["a"].config.productionTip=!1,new n["a"]({store:V,router:Le,vuetify:Me,render:function(t){return t(C)}}).$mount("#app")},"5c0b":function(t,e,i){"use strict";i("9c0c")},7886:function(t,e,i){"use strict";i("2415")},"8aa8":function(t,e,i){},"95d4":function(t,e,i){"use strict";i("8aa8")},"9c0c":function(t,e,i){},a45c:function(t,e,i){t.exports=i.p+"img/ssafyater_logo.da262831.png"},b057:function(t,e,i){"use strict";i("2005")},d08f:function(t,e,i){"use strict";i("5682")}});
//# sourceMappingURL=app.8b5dd38f.js.map